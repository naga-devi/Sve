(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{XSKB:function(c,t,e){"use strict";e.r(t),e.d(t,"routes",(function(){return F})),e.d(t,"CustomersModule",(function(){return q}));var o=e("ofXK"),r=e("tyNb"),i=e("3Pt+"),a=e("PCNd"),s=e("oOf3"),n=e("F5nt"),m=e("0IaG"),l=e("mIbC"),u=e("fXoL"),d=e("XiUz"),b=e("kmnG"),p=e("qFsG"),f=e("bTqV");function h(c,t){1&c&&(u.cc(0,"mat-error"),u.Oc(1,"Phone number is required"),u.bc())}function v(c,t){1&c&&(u.cc(0,"mat-error"),u.Oc(1,"Full name is required"),u.bc())}function g(c,t){1&c&&(u.cc(0,"mat-error"),u.Oc(1,"Address is required"),u.bc())}let C=(()=>{class c{constructor(c,t,e,o,r){this.dialogRef=c,this.data=t,this.appService=e,this.alertService=o,this.fb=r}ngOnInit(){this.form=this.fb.group({customerId:0,name:["",i.v.required],address:["",i.v.required],phoneNo:["",i.v.required],companyName:"",email:[""],tinNo:[""],city:[""],zipCode:[""]}),this.data.customer&&this.form.patchValue(this.data.customer)}onSubmit(){console.log(this.form.value),this.form.valid&&this.dialogRef.close(this.form.value),this.form.valid&&this.appService.postBy("sales/customers/"+(this.form.value.customerId>0?"update":"create"),this.form.value,this.form.value.customerId>0).subscribe(c=>{c.code===l.ResponseStatus.Success?(this.alertService.success(c.message),this.dialogRef.close(c)):this.alertService.error(c.message)},c=>{this.alertService.error(c)})}}return c.\u0275fac=function(t){return new(t||c)(u.Wb(m.h),u.Wb(m.a),u.Wb(n.a),u.Wb(l.NotificationService),u.Wb(i.d))},c.\u0275cmp=u.Qb({type:c,selectors:[["app-customer-dialog"]],decls:54,vars:4,consts:[["mat-dialog-title",""],["autocomplete","off",3,"formGroup","ngSubmit"],["mat-dialog-content",""],["fxLayout","row wrap",1,"mt-2"],["fxFlex","100","fxFlex.gt-sm","33.3",1,"px-1"],["appearance","outline",1,"w-100"],["matInput","","placeholder","TinNo","formControlName","tinNo"],["matInput","","placeholder","Phone","formControlName","phoneNo","required",""],[4,"ngIf"],["matInput","","placeholder","Full name","formControlName","name","required",""],["matInput","","placeholder","Company","formControlName","companyName"],["matInput","","type","email","placeholder","Email","formControlName","email"],["matInput","","placeholder","City","formControlName","city"],["matInput","","placeholder","Zip/Postal Code","formControlName","zipCode"],["fxFlex","100","fxFlex.gt-sm","66.6",1,"px-1"],["matInput","","placeholder","Address (street, apartment, suite, unit etc.)","formControlName","address","required",""],["mat-dialog-actions",""],["fxLayout","row","fxLayoutAlign","space-between center",1,"w-100"],["mat-raised-button","","color","warn","type","button","mat-dialog-close",""],["mat-raised-button","","color","primary","type","submit"]],template:function(c,t){1&c&&(u.cc(0,"h1",0),u.Oc(1,"Customer"),u.bc(),u.cc(2,"form",1),u.kc("ngSubmit",(function(){return t.onSubmit()})),u.cc(3,"div",2),u.cc(4,"div",3),u.cc(5,"div",4),u.cc(6,"mat-form-field",5),u.cc(7,"mat-label"),u.Oc(8,"TinNo"),u.bc(),u.Xb(9,"input",6),u.bc(),u.bc(),u.cc(10,"div",4),u.cc(11,"mat-form-field",5),u.cc(12,"mat-label"),u.Oc(13,"Phone"),u.bc(),u.Xb(14,"input",7),u.Mc(15,h,2,0,"mat-error",8),u.bc(),u.bc(),u.cc(16,"div",4),u.cc(17,"mat-form-field",5),u.cc(18,"mat-label"),u.Oc(19,"Full name"),u.bc(),u.Xb(20,"input",9),u.Mc(21,v,2,0,"mat-error",8),u.bc(),u.bc(),u.cc(22,"div",4),u.cc(23,"mat-form-field",5),u.cc(24,"mat-label"),u.Oc(25,"Company"),u.bc(),u.Xb(26,"input",10),u.bc(),u.bc(),u.cc(27,"div",4),u.cc(28,"mat-form-field",5),u.cc(29,"mat-label"),u.Oc(30,"Email"),u.bc(),u.Xb(31,"input",11),u.bc(),u.bc(),u.cc(32,"div",4),u.cc(33,"mat-form-field",5),u.cc(34,"mat-label"),u.Oc(35,"City"),u.bc(),u.Xb(36,"input",12),u.bc(),u.bc(),u.cc(37,"div",4),u.cc(38,"mat-form-field",5),u.cc(39,"mat-label"),u.Oc(40,"Zip/Postal Code"),u.bc(),u.Xb(41,"input",13),u.bc(),u.bc(),u.cc(42,"div",14),u.cc(43,"mat-form-field",5),u.cc(44,"mat-label"),u.Oc(45,"Address"),u.bc(),u.Xb(46,"input",15),u.Mc(47,g,2,0,"mat-error",8),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(48,"div",16),u.cc(49,"div",17),u.cc(50,"button",18),u.Oc(51,"Close"),u.bc(),u.cc(52,"button",19),u.Oc(53,"Save"),u.bc(),u.bc(),u.bc(),u.bc()),2&c&&(u.Jb(2),u.vc("formGroup",t.form),u.Jb(13),u.vc("ngIf",null==t.form.controls.phoneNo.errors?null:t.form.controls.phoneNo.errors.required),u.Jb(6),u.vc("ngIf",null==t.form.controls.name.errors?null:t.form.controls.name.errors.required),u.Jb(26),u.vc("ngIf",null==t.form.controls.address.errors?null:t.form.controls.address.errors.required))},directives:[m.i,i.w,i.p,i.i,m.f,d.d,d.a,b.c,b.g,p.b,i.c,i.o,i.g,i.u,o.m,m.d,d.c,f.b,m.e,b.b],styles:[""]}),c})();var O=e("/RaO"),y=e("Wp6s"),w=e("f0Cb"),N=e("Qu3c"),x=e("NFeN");function I(c,t){if(1&c){const c=u.dc();u.cc(0,"div",9),u.cc(1,"div",10),u.Oc(2),u.bc(),u.cc(3,"div",10),u.Oc(4),u.bc(),u.cc(5,"div",10),u.Oc(6),u.bc(),u.cc(7,"div",10),u.Oc(8),u.bc(),u.cc(9,"div",10),u.Oc(10),u.bc(),u.cc(11,"div",10),u.Oc(12),u.bc(),u.cc(13,"div",10),u.cc(14,"div",11),u.cc(15,"button",12),u.kc("click",(function(){u.Fc(c);const e=t.$implicit;return u.oc().openCustomerDialog(e)})),u.cc(16,"mat-icon"),u.Oc(17,"edit"),u.bc(),u.bc(),u.bc(),u.bc(),u.bc()}if(2&c){const c=t.$implicit;u.Jb(2),u.Pc(c.name),u.Jb(2),u.Pc(c.tinNo),u.Jb(2),u.Pc(c.companyName),u.Jb(2),u.Pc(c.email),u.Jb(2),u.Pc(c.phoneNo),u.Jb(2),u.Pc(c.address)}}function P(c,t){if(1&c){const c=u.dc();u.cc(0,"div",13),u.cc(1,"div",14),u.cc(2,"mat-card",15),u.cc(3,"pagination-controls",16),u.kc("pageChange",(function(t){return u.Fc(c),u.oc().onPageChanged(t)})),u.bc(),u.bc(),u.bc(),u.bc()}}const S=function(c,t){return{itemsPerPage:c,currentPage:t}},F=[{path:"",component:(()=>{class c{constructor(c,t,e){this.appService=c,this.dialog=t,this.appSettings=e,this.customers=[],this.countries=[],this.count=0,this.filter={},this.settings=this.appSettings.settings}ngOnInit(){this.countries=[],this.getCustomers()}onPageChanged(c){this.page=c,window.scrollTo(0,0)}getCustomers(){const c=new l.QueryParamsModel(this.filter,"asc","Name",this.page||1,500);this.appService.postBy("sales/customers/find",c).subscribe(c=>{this.customers=c.items?c.items:[],this.count=c.totalCount})}openCustomerDialog(c){this.dialog.open(C,{data:{customer:c,countries:this.countries},panelClass:["theme-dialog"],autoFocus:!1,direction:this.settings.rtl?"rtl":"ltr"}).afterClosed().subscribe(c=>{c&&this.getCustomers()})}}return c.\u0275fac=function(t){return new(t||c)(u.Wb(n.a),u.Wb(m.c),u.Wb(O.a))},c.\u0275cmp=u.Qb({type:c,selectors:[["app-customers"]],decls:26,vars:8,consts:[[1,"p-1"],[1,"p-0"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"w-100","p-2"],["mat-raised-button","","color","primary",3,"click"],[1,"mat-table","admin-table"],[1,"mat-header-row"],[1,"mat-header-cell"],["class","mat-row",4,"ngFor","ngForOf"],["fxLayout","row wrap",4,"ngIf"],[1,"mat-row"],[1,"mat-cell"],[1,"p-1","actions"],["mat-mini-fab","","color","primary","matTooltip","Edit",3,"click"],["fxLayout","row wrap"],["fxFlex","100"],[1,"p-0","text-center"],["autoHide","true","maxSize","5",1,"product-pagination",3,"pageChange"]],template:function(c,t){1&c&&(u.cc(0,"div",0),u.cc(1,"mat-card",1),u.cc(2,"div",2),u.cc(3,"h2"),u.Oc(4,"Customers List"),u.bc(),u.cc(5,"button",3),u.kc("click",(function(){return t.openCustomerDialog(null)})),u.Oc(6,"Add Customer"),u.bc(),u.bc(),u.Xb(7,"mat-divider"),u.cc(8,"div",4),u.cc(9,"div",5),u.cc(10,"div",6),u.Oc(11,"Full Name"),u.bc(),u.cc(12,"div",6),u.Oc(13,"TinNo"),u.bc(),u.cc(14,"div",6),u.Oc(15,"CompanyName"),u.bc(),u.cc(16,"div",6),u.Oc(17,"Email"),u.bc(),u.cc(18,"div",6),u.Oc(19,"PhoneNo"),u.bc(),u.cc(20,"div",6),u.Oc(21,"Address"),u.bc(),u.Xb(22,"div",6),u.bc(),u.Mc(23,I,18,6,"div",7),u.pc(24,"paginate"),u.bc(),u.bc(),u.Mc(25,P,4,0,"div",8),u.bc()),2&c&&(u.Jb(23),u.vc("ngForOf",u.rc(24,2,t.customers,u.zc(5,S,t.count,t.page))),u.Jb(2),u.vc("ngIf",t.customers.length>0))},directives:[y.a,d.d,d.c,f.b,w.a,o.l,o.m,N.a,x.a,d.a,s.c],pipes:[s.b],styles:[""]}),c})(),pathMatch:"full"}];let q=(()=>{class c{}return c.\u0275mod=u.Ub({type:c}),c.\u0275inj=u.Tb({factory:function(t){return new(t||c)},imports:[[o.c,r.h.forChild(F),i.t,a.a,s.a]]}),c})()}}]);